<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <style>

    td select,
    td input {
      width: 150px;
    }

    #diagram td {
      vertical-align: bottom;
      text-align: center;
      padding: 10px;
    }

    #diagram div {
      margin: auto;
    }

    #height-before {
      background :red; 
      width: 40px;
      height: 100px;
    }

    #height-after {
      background: green; 
      width: 40px; 
      height: 0;
    }

  </style>
</head>

<body>


  Калькулятор процентов, из расчёта <span id='titlePercent'></span>% годовых.
  <form name="calculator">
    <table>
      <tr>
        <td>Сумма</td>
        <td>
          <input id="money" type="text" value="10000">
        </td>
      </tr>
      <tr>
        <td>Срок в месяцах</td>
        <td>
          <select name="months">
            <option value="3">3 (минимум)</option>
            <option value="6">6 (полгода)</option>
            <option value="12" selected>12 (год)</option>
            <option value="18">18 (1.5 года)</option>
            <option value="24">24 (2 года)</option>
            <option value="30">30 (2.5 года)</option>
            <option value="36">36 (3 года)</option>
          </select>
        </td>
      </tr>
    </table>
  </form>


  <table id="diagram">
    <tr>
      <th>Было:</th>
      <th>Станет:</th>
    </tr>
    <tr>
      <th id="money-before"></th>
      <th id="money-after"></th>
    </tr>
    <tr>
      <td>
        <div id="height-before"></div>
      </td>
      <td>
        <div id="height-after"></div>
      </td>
    </tr>
  </table>

  <script>
    
    
    let graphHeight;
    let percent;
    let money = document.getElementById('money');
    let select = document.querySelector('select');
    let options = document.querySelectorAll('option');
    let heightBefore = document.getElementById('height-before');
    let heightAfter = document.getElementById('height-after');
    let moneyBefore = document.getElementById('money-before');
    let moneyAfter = document.getElementById('money-after');
    let titlePercent = document.getElementById('titlePercent');
    titlePercent.innerHTML = select.value;
    moneyBefore.innerHTML = money.value;

    for (let i = 0; i < options.length; i++) {
      if (options[i].hasAttribute('selected')) {
        percent = +options[i].value;
        graphHeight = getComputedStyle(heightBefore).height;
        moneyAfter.innerHTML = +moneyBefore.innerHTML + (+moneyBefore.innerHTML / 100 * percent);
        heightAfter.style.height = Math.round(+graphHeight.substring(0, graphHeight.length - 2) + (+graphHeight.substring(0, graphHeight.length - 2) / 100 * percent)) + 'px';
        break;
      }
    }
  
    money.onkeydown = toEnterOnlyNum;
    function toEnterOnlyNum(e) {
      if (e.keyCode > 32) {
        let val = String.fromCharCode(e.keyCode);
        if (isNaN(val)) return false;
      }
    }
    
    money.oninput = toCalcMoney;
    function toCalcMoney() {
      moneyBefore.innerHTML = this.value;
      moneyAfter.innerHTML = +moneyBefore.innerHTML + (+moneyBefore.innerHTML / 100 * percent);
    }
    
    select.onchange = toChangePercent;
    function toChangePercent(e) {
      titlePercent.innerHTML = select.value;
      percent = +e.target.value;
      moneyAfter.innerHTML = +moneyBefore.innerHTML + (+moneyBefore.innerHTML / 100 * percent);
      heightAfter.style.height = Math.round(+graphHeight.substring(0, graphHeight.length - 2) + (+graphHeight.substring(0, graphHeight.length - 2) / 100 * percent)) + 'px';
    }


  </script>


</body>

</html>